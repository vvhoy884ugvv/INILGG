local CoreGui = game:GetService("CoreGui")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")

local windowsize = UDim2.new(0.6, 0, 0.7, 0) -- تكبير القائمة لتناسب الجوال

-- إنشاء نافذة
local Window = Instance.new("Frame")
Window.Name = "Window"
Window.BackgroundColor3 = Color3.fromRGB(39, 39, 39)
Window.Position = UDim2.new(0.5, 0, 0.5, 0)
Window.AnchorPoint = Vector2.new(0.5, 0.5)
Window.Size = windowsize -- تطبيق الحجم الجديد
Window.Transparency = 0.5
Window.BorderSizePixel = 0
Window.Draggable = false
Window.ClipsDescendants = false
Window.SizeConstraint = "RelativeYY"
Window.Parent = CoreGui

-- زر القائمة (Menu)
local Menu = Instance.new("ImageButton")
Menu.Visible = true
Menu.Name = "Menu"
Menu.BorderSizePixel = 0
Menu.Image = "rbxassetid://122739889648244" -- إضافة الصورة المطلوبة
Menu.ImageTransparency = 0
Menu.Active = true
Menu.BackgroundColor3 = Color3.fromRGB(255, 0, 0) -- يبدأ باللون الأحمر
Menu.Position = UDim2.new(0.9025, 0, 0.505, 0)
Menu.AnchorPoint = Vector2.new(0.5, 0.5)
Menu.Size = UDim2.new(0.0375, 0, 0.925, 0)
Menu.Transparency = 0
Menu.BackgroundTransparency = 0
Menu.BorderSizePixel = 0
Menu.ZIndex = 4
Menu.SizeConstraint = "RelativeXY"
Menu.Parent = Window

-- تغيير اللون بشكل تدريجي
local function ChangeColor()
    while true do
        local tweenInfo = TweenInfo.new(1.5, Enum.EasingStyle.Linear, Enum.EasingDirection.InOut)

        -- قائمة الألوان التي سيتغير بينها الزر
        local colors = {
            Color3.fromRGB(255, 0, 0),  -- أحمر
            Color3.fromRGB(255, 165, 0), -- برتقالي
            Color3.fromRGB(255, 255, 0), -- أصفر
            Color3.fromRGB(0, 255, 0),  -- أخضر
            Color3.fromRGB(0, 255, 255), -- سماوي
            Color3.fromRGB(0, 0, 255),  -- أزرق
            Color3.fromRGB(128, 0, 128)  -- بنفسجي
        }

        for _, color in pairs(colors) do
            local tween = TweenService:Create(Menu, tweenInfo, {BackgroundColor3 = color})
            tween:Play()
            wait(1.5) -- انتظار حتى يظهر التغيير
        end
    end
end

-- تشغيل تغيير اللون
task.spawn(ChangeColor)

-- وظيفة الفتح والإغلاق
local function ToggleMenu()
    Window.Visible = not Window.Visible
end

Menu.MouseButton1Click:Connect(ToggleMenu)

return Window, Menu
